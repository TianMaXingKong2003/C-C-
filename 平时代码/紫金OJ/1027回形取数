//技巧性很强。   
#include <stdio.h>  
int main()  
{  
    int i, j, m, n, sum, fx, bs;  
    int a[200][200];  
    scanf("%d%d", &m, &n);  
    for (i = 0; i < m; i++)  
    {  
        for (j = 0; j < n; j++)  
        {  
            scanf("%d",&a[i][j]);  
        }  
    }  
    sum = m*n;  
    for (i = 0, j = 0, fx = 0, bs = 0; bs < sum; bs++)  
    {  
        if (fx==0)  //向下走  
        {  
            printf("%d ", a[i][j]);   
            a[i++][j] = -1;     //输出后就可以把他的值随意更改了。   
            if (a[i][j] == -1 || i == m)  
            {  
                fx = 1; i--; j++;   //i之所以要减1是因为上面的 a[i++][j]多加一个1；   
                continue;        //continue的作用是判断是否bs=sum，即是否结束，如果结束了就不继续执行了，不可丢弃   
            }  
        }  
        if (fx == 1)  //向右走  
        {  
            printf("%d ", a[i][j]);  
            a[i][j++] = -1;  
            if (a[i][j] == -1 || j == n)  
            {  
                fx = 2; j--; i--;  
               continue;  
            }  
        }  
        if (fx == 2)  //向上走  
        {  
            printf("%d ", a[i][j]);  
            a[i--][j] = -1;  
            if (a[i][j] == -1 || i == -1)  
            {  
                fx = 3; j--; i++;  
                  continue;  
            }  
        }  
        if (fx == 3)  //向左走  
        {  
            printf("%d ", a[i][j--]);  
            a[i][j + 1] = -1;  
            if (a[i][j] == -1)  
            {  
                fx = 0; j++; i++;  
               continue;  
            }  
        }  
    }  
    return 0;  
}  
